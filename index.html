<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <title>RAM Boston Add to Truck Bookmarks</title>
</head>
<body>
  <div class="container">
    <h1>Add to Truck Bookmarks</h1>
    <p>A set of bookmarks to add products to the Add to Truck list</p>
    <h2>Drag buttons to Bookmarks Bar </h2>
    <p>If Bookmarks Bar not showing, press Ctrl+Shift+B</p>
    <div class="link-container">

      <a href="javascript: (function () { const overlay = document.createElement('div'); const toast = document.createElement('div'); let toastMessage = 'Loading...'; function showToast() { Object.assign(toast.style, { position: 'fixed', top: '25px', right: '25px', padding: '10px 20px', borderRadius: '3px', backgroundColor: 'grey', color: 'white', fontSize: '16px', zIndex: 9999, }); toast.innerText = toastMessage; document.body.append(toast); } function removeToast() { Object.assign(toast.style, { backgroundColor: toastMessage === 'Added to list' ? '#28a745' : '#dd3b22', }); setTimeout(() => { toast.parentNode.removeChild(toast); }, 2000); } function moveListener(event) { const element = getElement(event); if (!element) return; const position = element.getBoundingClientRect(); Object.assign(overlay.style, { background: 'rgba(0, 128, 255, 0.25)', outline: '1px solid rgba(0, 128, 255, 0.5)', top: `${position.top}px`, left: `${position.left}px`, width: `${position.width}px`, height: `${position.height}px`, }); } async function clickListener(event) { const element = getElement(event); const text = element.textContent; const prodName = text.split('(')[0]; showToast(); fetch(`https://3gbqvz7aa1.execute-api.us-east-2.amazonaws.com/addToTruck/add`, { method: 'post', mode: 'cors', body: JSON.stringify({ product: prodName }), }) .then((res) => { return res.json(); }) .then((data) => { toastMessage = data.message; }) .catch((error) => { toastMessage = 'Error. Try again'; }) .finally(() => { toast.innerText = toastMessage; removeToast(); }); overlay.removeEventListener('click', clickListener); document.removeEventListener('mousemove', moveListener); document.body.removeChild(overlay); } Object.assign(overlay.style, { position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh', zIndex: 99999999, background: 'transparent', cursor: 'crosshair', }); document.body.append(overlay); function getElement(event) { overlay.style.pointerEvents = 'none'; const element = document.elementFromPoint(event.clientX, event.clientY); overlay.style.pointerEvents = 'auto'; return element; } document.addEventListener('mousemove', moveListener); overlay.addEventListener('click', clickListener);})();">Add to Truck</a>
      <a href="javascript: (function () { const overlay = document.createElement('div'); const toast = document.createElement('div'); let toastMessage = 'Loading...'; function showToast() { Object.assign(toast.style, { position: 'fixed', top: '25px', right: '25px', padding: '10px 20px', borderRadius: '3px', backgroundColor: 'grey', color: 'white', fontSize: '16px', zIndex: 9999, }); toast.innerText = toastMessage; document.body.append(toast); } function removeToast() { Object.assign(toast.style, { backgroundColor: toastMessage === 'Added to list' ? '#28a745' : '#dd3b22', }); setTimeout(() => { toast.parentNode.removeChild(toast); }, 2000); } function moveListener(event) { const element = getElement(event); if (!element) return; const position = element.getBoundingClientRect(); Object.assign(overlay.style, { background: 'rgba(0, 128, 255, 0.25)', outline: '1px solid rgba(0, 128, 255, 0.5)', top: `${position.top}px`, left: `${position.left}px`, width: `${position.width}px`, height: `${position.height}px`, }); } async function clickListener(event) { const element = getElement(event); const text = element.textContent; const prodName = text.split('(')[0]; const note = window.prompt('Add a note to this item: '); showToast(); fetch(`https://3gbqvz7aa1.execute-api.us-east-2.amazonaws.com/addToTruck/add`, { method: 'post', mode: 'cors', body: JSON.stringify({ product: prodName, note }), }) .then((res) => { return res.json(); }) .then((data) => { toastMessage = data.message; }) .catch((error) => { toastMessage = 'Error. Try again'; }) .finally(() => { toast.innerText = toastMessage; removeToast(); }); overlay.removeEventListener('click', clickListener); document.removeEventListener('mousemove', moveListener); document.body.removeChild(overlay); } Object.assign(overlay.style, { position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh', zIndex: 99999999, background: 'transparent', cursor: 'crosshair', }); document.body.append(overlay); function getElement(event) { overlay.style.pointerEvents = 'none'; const element = document.elementFromPoint(event.clientX, event.clientY); overlay.style.pointerEvents = 'auto'; return element; } document.addEventListener('mousemove', moveListener); overlay.addEventListener('click', clickListener);})();">Add to Truck - with Note</a>
      <a  href="https://jakewaldron.notion.site/049864c0a7e248d39bf6848ac65bf122?v=b53b40dd18554187a3df6217126b4e7d">Add to Truck List</a>
    </div>
    <p>To Use: Click on bookmark and click on product name</p>
    <img src="src/BookmarkExample.gif" alt="Add to Truck example" width="600">
  </div>
</body>
</html>